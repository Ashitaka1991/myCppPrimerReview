# Q&A Chapter 3 string, vector and array

## string

1. ### using声明是否应该放在头文件中？为什么？

   + 不应该。如果多处include头文件，则会意外暴露给他们不需要的命名空间。
   + 会增加意外使用的风险。

2. ### `string s1; string s2(s1); string s3=s1;`，s2和s3的初始化方式有何不同？

   + 好像没啥不同，是等价的。

3. ### 将cin中的内容依此读入string用什么方式？将cin中的各行依此读入string用什么方式？

   + `while(cin >> word){...}`
   + `while(getline(cin,line)){...}`

4. ### 为什么`s.size() < n` ，n不要为int类型？

   + 如果n为负值，则该逻辑判断永远成立。（运算时应该是会隐式转换为size_t，此时n是个特别大的值）

5. ### 使用C++11标准的**范围for语句**遍历s中的字符。将小写字符变成大写。（使用cctype同文件中定义的toupper（））

   + ```c++
     for(auto &c : line){
         c = toupper(c);
     }
     ```

6. ### 随机访问string中的字符。

   + 关键在于下标类型，`string:size_type`

## vector

1. ### vector可以容纳引用么？为什么？

   + 不可以，引用不是对象，不具有实际的内存区域。因此不可以。一般是保存副本。

2. ### `vector<T> v1={a,b,c...}`这种列表初始化方式可以么？

   + 可以，C++11标准提供的列表初始化形式。

3. ### `vector<string> v2{10,"hi"}`是什么效果？

   + 会初始化为10个‘hi’，因为初始化列表里面类型不同，会处理成这种个数与初始值的形式。

4. ### 在范围for语句中，是否可以改变其遍历序列的大小？为什么？

   + 不可以，因为会默认暂存尾迭代器，如果改变了序列，那么这个尾迭代器会失效。

5. ### `vector<int>::size_type`和`vector::size_type`哪个是对的？

   + 第一个，元素类型是必不可少的。

## iterator

1. ### 获取容器v的首尾迭代器的两个函数是什么？写一个迭代的例子。

   + `begin() cbegin() end() cend()`

     ```c++
     for(auto it = str.begin() ; it != str.end() ; ++it){
         *it = toupper(*it)
     }
     ```

2. ### 获取容器v的const首尾迭代器的函数是什么？

   + `cbegin() cend()`

3. ### 如果容器中的对象是const的，返回的迭代器是什么类型的?

   + 返回的迭代器是const_iterator类型。

4. ### `*it.empty()`是什么意思？

   + 访问it的empty（），之后再解引用。
   + 应该带上括号。`(*it).empty()`

5. ### 使用迭代器的循环体，可否向迭代器所属的容器添加元素？为什么？

   + 轻则尾迭代器失效，重则所有的迭代器都会失效。

6. ### 迭代器是否支持`>=`？

   + 支持。

7. ### 迭代器的算术运算支持加法么？

   + 支持。

## 传统array

1. ### 是否可以用auto定义数组类型？

   + 不可以。必须指明类型。

2. ### 是否存在引用的数组？

   + 不存在，同样需要有内存区域的对象。

3. ### `char a[] = "C++"`这种初始化形式是否可用？

   + 可用，会默认在最后添加空字符。

4. ### `int (*Parray)[10]`和`int (&arrRef)[10]`中，Parray和arrRef指的是什么？

   + 指向长度为10的int数组的指针。
   + 长度为10的int数组的引用。

5. ### 使用范围for语句遍历数组。

   ```c++
   for(auto i : scores){
       cout << i << endl;
   }
   ```

6. ### `int ia[]={0,1,2,3,4}; auto ia1(ia); decltype(ia) ia2 = {1,2,3,4,5}`，ia1和ia2有何区别？

   + ia1是一个整形指针，指向ia的第一个元素。
   + ia2是长度为5的整形数组。（这也是decltype的特别之处）

7. ### 数组的类似迭代器的用法是什么？

   ```c++
   int ia[] = {1,2,3,4,5};
   int *beg = begin(ia);
   int *last = end(is);
   ```

8. ### 内置下标的索引值是什么类型？`int k = p[-2]；`合法么？

   + 可以。内置数组下标并无要求为无符号数，因此这个是可以的。也就是说标准容器是不可以的。

9. ### `cstring`头文件里的常用函数`strcmp`是干啥的？

   + 比较字符串。

10. ### string类型的变量怎样提供C风格字符串？是什么类型的？会一直有效么？

    ```c++
    s.c_str();
    ```

11. ### 使用for语句处理多维数组有啥建议？

    + 除了最内存循环的控制变量，其他层都应该使用引用类型。
